<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>timer - Example</title>
    <script src="../angular.min.js"></script>
    <script type="text/javascript">
        (function (angular) {
            'use strict';
            angular.module('exampleApp', []).
              controller('EventController', ['$scope', '$interval', function ($scope, $interval) {

                  $scope.paracont = "获取验证码";
                  $scope.paraclass = "but_null";
                  $scope.paraevent = true;
                  var second = 60,
                       timePromise = undefined;

                  timePromise = $interval(function () {
                      if (second <= 0) {
                          $interval.cancel(timePromise);
                          timePromise = undefined;

                          second = 60;
                          $scope.paracont = "重发验证码";
                          $scope.paraclass = "but_null";
                          $scope.paraevent = true;
                      } else {
                          $scope.paracont = second + "秒后可重发";
                          $scope.paraclass = "not but_null";
                          second--;

                      }
                  }, 1000, 100);

                  $scope.sendphonecode = function (reg_phone) {

                  };

              }]);



        })(window.angular);
    </script>
</head>

<body ng-app="exampleApp">
    <div ng-controller="EventController">
        <a href="javascript:" ng-click="sendphonecode(reg_phone)" ng-class="paraclass" ng-bind="paracont">获取验证码</a>


    </div>
</body>
</html>